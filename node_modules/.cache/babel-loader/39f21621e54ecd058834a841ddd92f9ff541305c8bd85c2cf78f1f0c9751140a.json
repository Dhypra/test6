{"ast":null,"code":"import Swal from 'sweetalert2';\nimport axios from 'axios';\nimport router from '../router';\nexport default {\n  // method\n  toast(message) {\n    Swal.fire({\n      toast: true,\n      position: 'top-end',\n      showConfirmButton: false,\n      timer: 3000,\n      type: 'success',\n      title: 'Info:',\n      text: message\n    });\n  },\n  error(message) {\n    Swal.fire({\n      heightAuto: false,\n      icon: 'error',\n      // eslint-disable-next-line no-useless-concat\n      title: 'Oops...',\n      text: message || 'Something went wrong',\n      confirmButtonText: 'OK',\n      cancelButtonText: 'Cancel',\n      customClass: {\n        confirmButton: 'btn btn-primary'\n      }\n    });\n  },\n  warning(message) {\n    Swal.fire({\n      heightAuto: false,\n      icon: 'warning',\n      // eslint-disable-next-line no-useless-concat\n      title: 'Oops...',\n      text: message || 'Something went wrong',\n      confirmButtonText: 'OK',\n      cancelButtonText: 'Cancel',\n      customClass: {\n        confirmButton: 'btn btn-primary'\n      }\n    });\n  },\n  closeSwal() {\n    const elements = document.getElementsByClassName('.swal2-container');\n    while (elements.length > 0) {\n      elements[0].parentNode.removeChild(elements[0]);\n    }\n  },\n  getResponseMessage(value) {\n    if (value.data) return value.data.message;\n    return value.message || 'Something went wrong';\n  },\n  backToPreviousPage() {\n    Swal.fire({\n      heightAuto: false,\n      title: '<h5><strong>Leave this page?</strong></h5>',\n      width: 300,\n      showCancelButton: true,\n      confirmButtonText: 'Ya',\n      cancelButtonText: 'Cancel',\n      customClass: {\n        confirmButton: 'btn btn-primary',\n        cancelButton: 'btn btn-outline-primary ml-1'\n      }\n    }).then(result => {\n      if (result.value) {\n        router.back();\n      }\n    });\n  },\n  async errorTokenSwalPassword(path, msg) {\n    const noHp = localStorage.getItem('userNoHp');\n    await Swal.fire({\n      title: `<h5><strong> Token anda telah habis, silahkan masukkan kembali password untuk pengguna ${noHp}`,\n      html: `Silahkan masukkan Kata Sandi untuk Nomor Telepon <strong>${noHp}</strong><br/>`,\n      input: 'password',\n      showDenyButton: true,\n      confirmButtonText: 'Login',\n      denyButtonText: 'Gunakan Nomor Lain',\n      customClass: {\n        confirmButton: 'btn btn-primary',\n        denyButton: 'ml-1'\n      },\n      allowEscapeKey: false,\n      showLoaderOnConfirm: true,\n      showLoaderOnDeny: true,\n      preConfirm: async password => {\n        const form = {\n          no_hp: localStorage.getItem('userNoHp'),\n          password\n        };\n        const res = await api.login(form);\n        return res;\n      },\n      allowOutsideClick: () => false,\n      preDeny: () => {\n        localStorage.clear();\n        window.location.reload('/login');\n      }\n    }).then(res => {\n      if (res.isConfirmed) {\n        if (res.value.status === 200) {\n          const result = res.value.data;\n          localStorage.setItem('userId', result.data.userId);\n          localStorage.setItem('userEmail', result.data.userEmail);\n          localStorage.setItem('userAvatar', result.data.userAvatar);\n          localStorage.setItem('userAvatar64', result.data.userAvatar64 || '');\n          localStorage.setItem('permission', JSON.stringify(result.data.userPermission) || '');\n          localStorage.setItem('token', result.token);\n          localStorage.setItem('userNoHp', result.data.userNoHp);\n          axios.defaults.headers.common.Authorization = `Bearer ${result.token}`;\n          // axios.defaults.headers.common['auth-token'] = result.token\n          // eslint-disable-next-line no-restricted-globals\n          location.reload();\n        } else {\n          $toast.error(res.value.msg);\n          this.errorToken(path, 'Password Salah!', false);\n        }\n      }\n    }).catch(error => error);\n  },\n  async errorToken(path, msg) {\n    await this.errorTokenSwalPassword(path, msg);\n  }\n};","map":{"version":3,"names":["Swal","axios","router","toast","message","fire","position","showConfirmButton","timer","type","title","text","error","heightAuto","icon","confirmButtonText","cancelButtonText","customClass","confirmButton","warning","closeSwal","elements","document","getElementsByClassName","length","parentNode","removeChild","getResponseMessage","value","data","backToPreviousPage","width","showCancelButton","cancelButton","then","result","back","errorTokenSwalPassword","path","msg","noHp","localStorage","getItem","html","input","showDenyButton","denyButtonText","denyButton","allowEscapeKey","showLoaderOnConfirm","showLoaderOnDeny","preConfirm","password","form","no_hp","res","api","login","allowOutsideClick","preDeny","clear","window","location","reload","isConfirmed","status","setItem","userId","userEmail","userAvatar","userAvatar64","JSON","stringify","userPermission","token","userNoHp","defaults","headers","common","Authorization","$toast","errorToken","catch"],"sources":["C:/Users/andhi/webDev/realtime stock/18/FE/src/utils/CommonUtils.js"],"sourcesContent":["\nimport Swal from 'sweetalert2'\nimport axios from 'axios'\nimport router from '../router'\n\nexport default {\n  // method\n  toast(message) {\n    Swal.fire({\n      toast: true,\n      position: 'top-end',\n      showConfirmButton: false,\n      timer: 3000,\n      type: 'success',\n      title: 'Info:',\n      text: message,\n    })\n  },\n  error(message) {\n    Swal.fire({\n      heightAuto: false,\n      icon: 'error',\n      // eslint-disable-next-line no-useless-concat\n      title: 'Oops...',\n      text: message || 'Something went wrong',\n      confirmButtonText: 'OK',\n      cancelButtonText: 'Cancel',\n      customClass: {\n        confirmButton: 'btn btn-primary',\n      },\n    })\n  },\n  warning(message) {\n    Swal.fire({\n      heightAuto: false,\n      icon: 'warning',\n      // eslint-disable-next-line no-useless-concat\n      title: 'Oops...',\n      text: message || 'Something went wrong',\n      confirmButtonText: 'OK',\n      cancelButtonText: 'Cancel',\n      customClass: {\n        confirmButton: 'btn btn-primary',\n      },\n    })\n  },\n  closeSwal() {\n    const elements = document.getElementsByClassName('.swal2-container')\n    while (elements.length > 0) {\n      elements[0].parentNode.removeChild(elements[0])\n    }\n  },\n  getResponseMessage(value) {\n    if (value.data) return value.data.message\n    return value.message || 'Something went wrong'\n  },\n  backToPreviousPage() {\n    Swal.fire({\n      heightAuto: false,\n      title: '<h5><strong>Leave this page?</strong></h5>',\n      width: 300,\n      showCancelButton: true,\n      confirmButtonText: 'Ya',\n      cancelButtonText: 'Cancel',\n      customClass: {\n        confirmButton: 'btn btn-primary',\n        cancelButton: 'btn btn-outline-primary ml-1',\n      },\n    }).then(result => {\n      if (result.value) {\n        router.back()\n      }\n    })\n  },\n  async errorTokenSwalPassword(path, msg) {\n    const noHp = localStorage.getItem('userNoHp')\n    await Swal.fire({\n      title: `<h5><strong> Token anda telah habis, silahkan masukkan kembali password untuk pengguna ${noHp}`,\n      html: `Silahkan masukkan Kata Sandi untuk Nomor Telepon <strong>${noHp}</strong><br/>`,\n      input: 'password',\n      showDenyButton: true,\n      confirmButtonText: 'Login',\n      denyButtonText: 'Gunakan Nomor Lain',\n      customClass: {\n        confirmButton: 'btn btn-primary',\n        denyButton: 'ml-1',\n      },\n      allowEscapeKey: false,\n      showLoaderOnConfirm: true,\n      showLoaderOnDeny: true,\n      preConfirm: async password => {\n        const form = {\n          no_hp: localStorage.getItem('userNoHp'),\n          password,\n        }\n        const res = await api.login(form)\n        return res\n      },\n      allowOutsideClick: () => false,\n      preDeny: () => {\n        localStorage.clear()\n        window.location.reload('/login')\n      },\n    }).then(res => {\n      if (res.isConfirmed) {\n        if (res.value.status === 200) {\n          const result = res.value.data\n          localStorage.setItem('userId', result.data.userId)\n          localStorage.setItem('userEmail', result.data.userEmail)\n          localStorage.setItem('userAvatar', result.data.userAvatar)\n          localStorage.setItem('userAvatar64', result.data.userAvatar64 || '')\n          localStorage.setItem('permission', JSON.stringify(result.data.userPermission) || '')\n          localStorage.setItem('token', result.token)\n          localStorage.setItem('userNoHp', result.data.userNoHp)\n          axios.defaults.headers.common.Authorization = `Bearer ${result.token}`\n          // axios.defaults.headers.common['auth-token'] = result.token\n          // eslint-disable-next-line no-restricted-globals\n          location.reload()\n        } else {\n          $toast.error(res.value.msg)\n          this.errorToken(path, 'Password Salah!', false)\n        }\n      }\n    }).catch(error => error)\n  },\n  async errorToken(path, msg) {\n    await this.errorTokenSwalPassword(path, msg)\n  },\n\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}